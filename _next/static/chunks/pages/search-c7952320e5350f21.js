(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[603],{2252:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/search",function(){return n(3333)}])},7798:function(e,t,n){"use strict";n.d(t,{i:function(){return s}});var r=n(7294);let s=e=>{let[t,n]=(0,r.useState)(null),[s,l]=(0,r.useState)(null),[a,c]=(0,r.useState)(!1);return(0,r.useEffect)(()=>{(async()=>{try{c(!0);let t=await fetch(e);n(await t.json())}catch(r){l(r)}finally{c(!1)}})()},[e]),{data:t,error:s,loading:a}}},3333:function(e,t,n){"use strict";n.r(t),n.d(t,{__N_SSG:function(){return T},default:function(){return Z}});var r=n(5893),s=n(7294),l=n(9247),a=n(9008),c=n.n(a);let i=()=>(0,r.jsx)("div",{className:"h Vb fc j k l Yc Zc "});var o=(0,s.memo)(i),u=n(7798);let h=e=>{var t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","…":"&hellip;"};return e.replace(/[&<>"]/g,e=>t[e]||e)},d=e=>e.replace(/[.*+\-?^${}()|[\]\\]/g,"\\$&"),m=(e,t)=>{let n=[],r=e.trim().split(/[\s\-]+/).map(h),s=r.map(e=>e.toLowerCase()),l=RegExp(r.map(d).join("|"),"gi");return t.forEach(e=>{if(!e.title||!e.content)return;let{title:t,content:a,tags:c,categories:i}=e,o=t.toLowerCase(),u=a.toLowerCase(),h=c&&c.map(e=>e.toLowerCase())||[],d=i&&i.map(e=>e.toLowerCase())||[],m=-1,f=-1,x=0,b=0,j=0;if(s.forEach(e=>{let t=o.indexOf(e),n=u.indexOf(e),r=h.indexOf(e),s=d.indexOf(e);if((t>=0||n>=0||r>=0||s>=0)&&x++,r>=0&&b++,s>=0&&j++,x>0){let l=u.lastIndexOf(e);n>=0&&(m=m<0?n:Math.min(m,n)),l>=0&&(f=f<0?l:Math.max(f,l))}}),x!==r.length&&x<2)return;let g,p,k=0,v,w=0;m>=0&&(k=Math.max(m-10,0)),f>=0&&(v=Math.min(f+10,a.length)),v-k<50&&(v=k+300),p=a.substring(k,v);let N=(e,t)=>{let n=0;return e=e.replace(l,e=>(w+=n>0?t*(1+n/10):1*t,n++,"<mark>"+e+"</mark>"))};g=N(t,4),p=N(p,1),w+=2*b+3*j,n.push({url:e.url,title:g,content:p,weight:w})}),n=n.sort((e,t)=>t.weight-e.weight)};var f=n(4740),x=n.n(f);let b=()=>(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(c(),{children:(0,r.jsx)("link",{rel:"prefetch",as:"fetch",href:"/search.json"})}),(0,r.jsxs)("div",{className:"Fb ",children:["这是 ",(0,r.jsx)("b",{children:x().title})," 的站内搜索引擎。"]}),(0,r.jsxs)("div",{children:["搜索多个关键词时请使用空格分隔，如「",(0,r.jsx)("a",{className:"Wc Pc ",onClick:()=>setInput("网页 深色模式"),children:"网页 深色模式"}),"」「",(0,r.jsx)("a",{className:"Wc Pc ",onClick:()=>setInput("年度总结"),children:"年度总结"}),"」。"]})]});var j=n(1664),g=n.n(j);let p=e=>{let{url:t,title:n,content:s}=e;return(0,r.jsxs)(g(),{href:t,prefetch:!1,className:"Ac fb Di hb Ei Re Pd Te Md Pb bb Fi ",children:[(0,r.jsx)("b",{dangerouslySetInnerHTML:{__html:n}}),(0,r.jsx)("div",{className:"Gi de ee ",dangerouslySetInnerHTML:{__html:s}})]})};var k=(0,s.memo)(p);let v=()=>(0,r.jsx)("div",{className:"C F Hi "});var w=(0,s.memo)(v);let N=e=>{let{result:t,input:n}=e;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"kf ",children:["找到 ",t.length," 条关于「",n,"」的结果"]}),t.map(e=>{let{url:t,title:n,content:s}=e;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(w,{}),(0,r.jsx)(k,{url:t,title:n,content:s})]})})]})};var _=(0,s.memo)(N);let C=(0,l.Z)({main:{marginBottom:"1rem"},link:{color:"var(--c-a)",textDecoration:"none"}}),F=()=>(0,r.jsxs)("div",{className:C("main"),children:["出错了，请"," ",(0,r.jsx)("a",{className:C("link"),onClick:()=>location.reload(),children:"重试"}),"。"]}),S=e=>{let{query:t}=e;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"Fb ",children:"未找到任何结果。"}),(0,r.jsxs)("div",{children:["你也可以前往"," ",(0,r.jsx)("a",{href:"https://www.google.com/search?q=".concat(encodeURIComponent(t)),target:"_blank",rel:"nofollow noopener noreferrer",children:"Google"})," ","或"," ",(0,r.jsx)("a",{href:"https://www.bing.com/search?q=".concat(encodeURIComponent(t)),target:"_blank",rel:"nofollow noopener noreferrer",children:"Bing"})," ","搜索「",(0,r.jsx)("a",{href:"https://www.google.com/search?q=".concat(encodeURIComponent(t)),target:"_blank",rel:"nofollow noopener noreferrer",children:t}),"」。"]})]})};var E=(0,s.memo)(S);let I=e=>{let{query:t,startClientSideSearch:n}=e,{data:l,loading:a,error:c}=(0,u.i)("/search.json"),i=(0,s.useMemo)(()=>l&&t&&n?m(t,l):null,[l,t,n]);return c?(0,r.jsx)(F,{}):l&&t?(null==i?void 0:i.length)?(0,r.jsx)(_,{result:i,input:t}):(0,r.jsx)(E,{query:t}):(0,r.jsx)(b,{})};var y=(0,s.memo)(I),q=n(4811),M=n(7694),L=n(587);let O={result:{lk:"s",kr:"t",ko:"u",kh:"v",kn:"w"}};var T=!0;function Z(e){let{title:t}=e,[n,a]=(0,s.useTransition)(),[i,u]=(0,s.useState)(""),[h,d]=(0,s.useState)(""),[m,f]=(0,s.useState)(!1),x=(0,s.useCallback)(e=>{u(e),a(()=>{d(e)})},[]),j=(0,s.useCallback)(e=>{x(e.target.value)},[x]);return(0,s.useEffect)(()=>{f(!0)},[]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(c(),{children:[(0,r.jsx)("title",{children:t}),(0,r.jsx)("meta",{property:"og:title",content:t},"og:title")]}),(0,r.jsxs)("div",{className:(0,l.Z)(q.n),children:[(0,r.jsxs)("header",{className:(0,l.Z)(L.I,M.F.header),children:[(0,r.jsx)("h1",{className:(0,l.Z)(M.F.title),children:"搜索"}),(0,r.jsx)("input",{type:"search",className:"A b B q x y z C e D E F f G H I J K L M N O P Q R S T U V W X ",autoComplete:"off",autoFocus:!0,placeholder:"请输入关键字...",value:i,onChange:j})]}),(0,r.jsxs)("div",{className:(0,l.Z)(L.I,O.result),children:[n&&(0,r.jsx)(o,{}),m?(0,r.jsx)(y,{query:h,startClientSideSearch:m}):(0,r.jsx)(b,{})]})]})]})}},587:function(e,t,n){"use strict";n.d(t,{I:function(){return r},b:function(){return s}}),n(9247);let{card:r,pCard:s}={card:{"1x":"Vb","5v":"Wb","5x":"Xb","3q":"Yb","3o":"Zb",k4:"ac",k5:"bc","6l":"cc"},pCard:{"1x":"Vb","5v":"Wb","5x":"Xb","3q":"Yb","3o":"Zb",k4:"ac",k5:"bc","6l":"cc",kr:"t",ko:"kb",kh:"v",kn:"mb"}}},4811:function(e,t,n){"use strict";n.d(t,{n:function(){return r}}),n(9247);let{container:r}={container:{ue:"Qb",i6:"Rb",g7:"x",g4:"Sb",fu:"Fb",g3:"Tb"}}},7694:function(e,t,n){"use strict";n.d(t,{F:function(){return r}}),n(9247);let{...r}={header:{fu:"Fb",kr:"t",ko:"u",kh:"v",kn:"w"},title:{ba:"Ub",g7:"fb",g4:"gb",fu:"hb",g3:"ib"}}}},function(e){e.O(0,[313,774,888,179],function(){return e(e.s=2252)}),_N_E=e.O()}]);