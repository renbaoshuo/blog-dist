(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[515],{5538:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/post/[slug]",function(){return r(9098)}])},9768:function(e,t,r){"use strict";r.d(t,{Z:function(){return x}});var s=r(5893),n=r(7667),a=r(9247);let l={root:null,rootMargin:"0px 0px 0px 0px",threshold:0},c=e=>{let[t,r]=(0,n.useState)(!1);return(0,n.useEffect)(()=>{if(e.current){let t=new IntersectionObserver((t,s)=>{t.forEach(t=>{t.isIntersecting&&(r(!0),s.unobserve(e.current))})},l);t.observe(e.current)}},[e]),t};var i=r(4740),d=r.n(i),o=r(587),h=r(4811);let m=(0,n.lazy)(()=>Promise.all([r.e(122),r.e(244)]).then(r.bind(r,7244))),u=e=>{let{title:t,url:r}=e,l=(0,n.useRef)(null),i=c(l),[u,x]=(0,n.useState)(!1);return(0,n.useEffect)(()=>{window.location.hash.includes("atk-comment")&&x(!0),window.location.search.includes("atk_comment")&&x(!0)},[]),(0,s.jsx)("div",{ref:l,className:(0,a.Z)(o.b,h.n),children:(i||u)&&(0,s.jsx)(n.Suspense,{fallback:(0,s.jsx)(s.Fragment,{children:"Loading..."}),children:(0,s.jsx)(m,{title:t,url:new URL(r,d().baseUrl).toString()},t)})})};var x=u},7404:function(e,t,r){"use strict";r.d(t,{Z:function(){return i}});var s=r(5893),n=r(7667),a=r(6411);let l=e=>"arina.loli.net"===new URL(e).hostname?e.replace("//arina.loli.net","//s1.baoshuo.ren"):e,c=e=>{let{src:t,className:r,alt:n,sizes:c,...i}=e;return(0,s.jsxs)("picture",{children:[(0,a.Z)(t)&&(null==c?void 0:c.map(e=>{let[r,n]=e;return(0,s.jsx)("source",{srcSet:l(t)+"/"+n,media:"(max-width: ".concat(r,"px)")},r)})),(0,s.jsx)("img",{className:r,src:l(t),alt:n,loading:"lazy",...i})]})};var i=(0,n.memo)(c)},2043:function(e,t,r){"use strict";r.d(t,{Z:function(){return v}});var s=r(5893);r(9247);var n=r(7667),a=r(9973),l=r(9691),c=r(5726),i=r(7404);let d=new Set(["area","base","br","col","command","embed","hr","img","input","keygen","link","menuitem","meta","param","source","track","wbr"]),o=0,h=e=>!!(null==e||""===e||Number.isNaN(e)),m=e=>Array.isArray(e)&&"$"===e[0],u=e=>(0,l.mz)((0,a.Qc)(e)),x=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=e.length;if(0===a)return[];o+=1;let l=[];for(let i=0;i<a;i++){var b;let g=e[i];if(h(g))continue;if(Array.isArray(g)&&!m(g)){0!==g.length&&l.push(...x(g,t,r+1));continue}if("number"==typeof g||"string"==typeof g){l.push(g);continue}if(Array.isArray(g[3])||(h(g[3])?g[3]=[]:g[3]=[g[3]]),!g[1]){l.push(...x(g[3],t,r+1));continue}let f="string"==typeof g[1]?g[1]:"div",j=null!==(b=g[2])&&void 0!==b?b:{},v=Object.keys(j).reduce((e,t)=>{var r;return e[null!==(r=c.Qc[t])&&void 0!==r?r:t]=j[t],e},{});v.style&&(v.style=u(v.style));let p=t&&t[f]?t[f]:f,N="".concat(o,"-").concat(i,"-").concat(r);d.has(f)?(l.push((0,n.createElement)(p,{...v,key:N})),l.push(...x(g[3],t,r+1))):l.push((0,s.jsx)(p,{...v,children:x(g[3],t,r+1)},N))}return l},b=e=>{let{children:t}=e,r=(0,n.useRef)(null);return(0,n.useEffect)(()=>{let e=document.createRange().createContextualFragment("<script>"+t+"</script>");r.current.appendChild(e)},[]),(0,s.jsx)("div",{ref:r,style:{display:"none"},"data-script":!0})},g=e=>{let t=Array.isArray(e.tree)?e.tree:[e.tree];return x(t,{script:b,img:i.Z})};var f=r(6505);let j=e=>{let{tree:t}=e;return(0,s.jsx)("section",{className:"s t u v se x H z Dc ",id:f.markdown,children:(0,s.jsx)(g,{tree:t})})};var v=j},8252:function(e,t,r){"use strict";var s=r(5893),n=r(7667);r(9247);var a=r(1664),l=r.n(a),c=r(776);let i=e=>{let{category:t}=e;return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(c.Z,{}),(0,s.jsx)(l(),{href:t.url,prefetch:!1,className:"Jb Ab Kb ",children:t.name})]})};t.Z=(0,n.memo)(i)},6411:function(e,t){"use strict";let r=e=>{let{host:t}=new URL(e);return!!(t.endsWith("loli.io")||t.endsWith("loli.net"))||"s1.baoshuo.ren"===t};t.Z=r},9098:function(e,t,r){"use strict";r.r(t),r.d(t,{__N_SSG:function(){return H},default:function(){return Q}});var s=r(5893),n=r(9247),a=r(9008),l=r.n(a),c=r(776),i=r(8252),d=r(2043),o=r(7667),h=r(587),m=r(4811);let u={card:{g7:"J",g4:"ac",fu:"Pb",g3:"bc",pr:"Bc",ba:"Jc"}},x=()=>(0,s.jsxs)("div",{className:(0,n.Z)(h.b,m.n,u.card),children:[(0,s.jsx)("div",{children:"喜欢这篇文章？为什么不考虑打赏一下作者呢？"}),(0,s.jsx)("a",{className:"Vc Sd te Wd Xd Yd Zd Ab ue zc ve mb a Cc ",href:"https://afdian.net/@baoshuo",target:"_blank",rel:"noopener noreferrer",children:"爱发电"})]});var b=(0,o.memo)(x),g=r(1664),f=r.n(g);let j=()=>(0,s.jsx)("i",{className:"we Mf Nf E a Lf Kf Pf Sf Ug Xf Yf Zf ag Tf Uf Vf Wf dg bg Rf Qf "});var v=(0,o.memo)(j);let p=()=>(0,s.jsx)("i",{className:"Tg Mf Nf E a Lf Kf Pf Sf Ug Vg Wg Xg Yg Tf Uf Vf Wf dg bg Rf Qf "});var N=(0,o.memo)(p);let y={container:{95:"m",ba:"xe",bu:"ye"}},k=e=>{let{prev:t,next:r}=e;return(0,s.jsxs)("div",{className:(0,n.Z)(m.n,y.container),children:[t&&(0,s.jsx)("div",{className:"m ze Ae Be Ce De ",children:(0,s.jsxs)(f(),{prefetch:!1,href:t.url,className:"m o Ib Fd Lb y Mb ",children:[(0,s.jsx)(v,{}),t.title]})}),r&&(0,s.jsx)("div",{className:"m ze Ae Be Ee Fe ",children:(0,s.jsxs)(f(),{prefetch:!1,href:r.url,className:"m o Ib Fd Lb y Mb ",children:[r.title,(0,s.jsx)(N,{})]})})]})};var w=(0,o.memo)(k),_=r(5482),S=r(24);let A=()=>(0,s.jsx)("i",{className:"hg E Ic ig jg kg lg mg nb R f S T ng og pg qg rg sg tg ug Pf vg Sf wg xg yg zg Ag Bg Cg Dg Eg Fg Gg Hg Ig Jg Kg Lg Mg Ng Og Pg Qg Rg Sg "});var Z=(0,o.memo)(A),C=r(856);let E=e=>{let{toc:t,isChild:r=!1}=e,n=Object.keys(t).filter(e=>!["id","text"].includes(e)).map(e=>parseInt(e,10)).sort((e,t)=>e-t);return(0,s.jsxs)(s.Fragment,{children:[t.id&&t.text&&(0,s.jsx)("li",{children:(0,s.jsx)("a",{className:"Ld Md Nd Jd m Jb Kd Ab Od ",href:"#"+t.id,children:t.text})}),n.length>0&&(0,s.jsx)("ul",{className:(r?"Q ":"")+((r?"T ":"")+((r?"ob ":"")+((r?"Vc ":"s ")+((r?"Gd ":"t ")+((r?"Hd ":"u ")+(r?"Id ":"v "))))))+"Fd Gb y "+(r?"Jd ":"Hb ")+"Jc Ed ",children:n.map(e=>(0,s.jsx)(E,{toc:t[e],isChild:!0},e))})]})},R=e=>{let{toc:t}=e,[r,n]=(0,S.KO)(_.w),a=(0,o.useRef)(null);return((0,C.s)("click",e=>{var t;(null===(t=a.current)||void 0===t?void 0:t.contains(e.target))&&n(!1)}),r)?(0,s.jsxs)("div",{className:"mc j l Qc Xb O e P Q R f S T id jd kd ld Rb Sb Tb Ub J md Pb nd F G H I od pd qd rd sd Wb td ud vd wd xd yd zd ",ref:a,children:[(0,s.jsxs)("div",{className:"Bd m Bb Cb ",children:[(0,s.jsx)("div",{className:"Cd Dd ",children:"文章目录"}),(0,s.jsx)("div",{className:"Xc Kb ",children:(0,s.jsx)(Z,{})})]}),(0,s.jsx)(E,{toc:t})]}):null};var K=(0,o.memo)(R);let F=e=>{let{tags:t}=e;return(0,s.jsx)("div",{className:"Jc F x H z ",children:t.map(e=>{let{name:t,url:r}=e;return(0,s.jsxs)(f(),{prefetch:!1,href:r,className:"Cb Ab we Kb ",children:["# ",t]},t)})})};var J=r(4740),P=r.n(J);let T=()=>(0,s.jsx)("i",{className:"a h Nf Zg ah bh ch dh eh fh gh hh ih R f S T jh kh lh mh Pf Sf nh oh ph qh Tf Uf Vf Wf rh sh th uh vh wh xh yh zh Gg Ig Ah Bh Ch Dh Eh Fh Gh Hh Ih Jh Kh Lh Mh Nh Oh Ph Qh "});var z=(0,o.memo)(T);let I=e=>{let{title:t,url:r,author:n,date:a,isoDate:l,updated:c,isoUpdated:i,license:d}=e;return(0,s.jsxs)("div",{className:"E Ge w x He z ae be ",children:[(0,s.jsx)("div",{className:"d ",children:t}),(0,s.jsx)("div",{children:(0,s.jsx)("a",{className:"Cb Ie Rd Kb ",href:r,children:new URL(r,P().baseUrl).toString()})}),(0,s.jsxs)("div",{className:"m Je J ",children:[(0,s.jsxs)("div",{className:"m kb Db md Pb ",children:[(0,s.jsx)("div",{className:"Ke ",children:"本文作者"}),(0,s.jsx)("div",{children:n||(0,s.jsx)("a",{className:"Jb Ab Kb ",href:P().author.link,target:"_blank",children:P().author.name})})]}),(0,s.jsxs)("div",{className:"m kb Db md Pb ",children:[(0,s.jsx)("div",{className:"Ke ",children:"发布于"}),(0,s.jsx)("time",{dateTime:l,children:a})]}),a!==c&&(0,s.jsxs)("div",{className:"m kb Db md Pb ",children:[(0,s.jsx)("div",{className:"Ke ",children:"更新于"}),(0,s.jsx)("time",{dateTime:i,children:c})]}),(0,s.jsxs)("div",{className:"m kb Db md Pb ",children:[(0,s.jsx)("div",{className:"Ke ",children:"版权协议"}),(0,s.jsx)("div",{children:d||(0,s.jsx)("a",{className:"Jb Ab Kb ",href:"https://creativecommons.org/licenses/by-nc-sa/4.0/legalcode.zh-Hans",target:"_blank",rel:"license noopener noreferrer",children:"CC BY-NC-SA 4.0"})})]})]}),(0,s.jsx)("div",{className:"Ke ",children:"转载或引用本文时请遵守许可协议，注明出处、不得用于商业用途！"}),(0,s.jsx)(z,{})]})};var U=(0,o.memo)(I),L=r(9768);let D=e=>{var t;let{title:r,post:a}=e,{date:o,updated:u,isoDate:x,isoUpdated:g}=a,f=a.thumb;return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(l(),{children:[(0,s.jsx)("title",{children:r}),a.excerpt&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("meta",{name:"description",content:a.excerpt.trim()},"description"),(0,s.jsx)("meta",{property:"og:description",content:a.excerpt.trim()},"og:description")]}),(0,s.jsx)("meta",{name:"keywords",content:a.tags.join(",")},"keywords"),(0,s.jsx)("meta",{property:"og:type",content:"article"},"og:type"),(0,s.jsx)("meta",{property:"og:title",content:r},"og:title"),(0,s.jsx)("meta",{property:"og:url",content:a.url},"og:url"),a.thumb&&(0,s.jsx)("meta",{property:"og:image",content:a.thumb},"og:image"),a.thumb&&(0,s.jsx)("meta",{name:"twitter:card",content:"summary_large_image"},"twitter:card")]}),(0,s.jsxs)("article",{className:(0,n.Z)(h.I,m.n),children:[a.thumb&&(0,s.jsx)("img",{className:"K Eb Fb ",src:a.thumb,alt:a.title}),(0,s.jsxs)("header",{className:"s t u v "+(f?"M ":"w ")+"x y z ",children:[(0,s.jsx)("h1",{className:"C t D v A B ",children:a.title}),(0,s.jsxs)("div",{className:"M Gb N Hb Ib ",children:[(0,s.jsx)("time",{dateTime:x,children:o}),null===(t=a.categories)||void 0===t?void 0:t.map(e=>(0,s.jsx)(i.Z,{category:e},e.name)),(0,s.jsx)(c.Z,{}),(0,s.jsx)("span",{children:a.wordCount})]})]}),(0,s.jsx)(d.Z,{tree:a.content},a.url),(0,s.jsx)(U,{title:a.title,url:a.url,author:a.author,date:o,isoDate:x,updated:u,isoUpdated:g,license:a.license}),a.tags.length&&(0,s.jsx)(F,{tags:a.tags})||(0,s.jsx)(s.Fragment,{})]}),(0,s.jsx)(b,{}),!!(a.prev||a.next)&&(0,s.jsx)(w,{prev:a.prev,next:a.next}),a.comments&&(0,s.jsx)(L.Z,{title:a.title,url:a.url},r),(0,s.jsx)(K,{toc:a.toc})]})};var H=!0,Q=D},587:function(e,t,r){"use strict";r.d(t,{I:function(){return s},b:function(){return n}}),r(9247);let{card:s,pCard:n}={card:{"1x":"Qb","5v":"Rb","5x":"Sb","3q":"Tb","3o":"Ub",k4:"Vb",k5:"Wb","6l":"Xb"},pCard:{"1x":"Qb","5v":"Rb","5x":"Sb","3q":"Tb","3o":"Ub",k4:"Vb",k5:"Wb","6l":"Xb",kr:"F",ko:"x",kh:"H",kn:"z"}}},4811:function(e,t,r){"use strict";r.d(t,{n:function(){return s}}),r(9247);let{container:s}={container:{ue:"Yb",i6:"Zb",g7:"J",g4:"ac",fu:"Pb",g3:"bc"}}},6505:function(e){e.exports={markdown:"post_markdown__nRdJ1"}},2868:function(){},4777:function(){},9830:function(){},209:function(){}},function(e){e.O(0,[313,6,774,888,179],function(){return e(e.s=5538)}),_N_E=e.O()}]);