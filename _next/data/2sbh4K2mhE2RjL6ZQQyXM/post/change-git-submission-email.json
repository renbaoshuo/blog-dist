{"pageProps":{"title":"批量修改 Git 仓库的提交邮箱 - 宝硕博客","post":{"title":"批量修改 Git 仓库的提交邮箱","excerpt":null,"content":"<p>这几天重装了系统，一个不小心提交了好多 author 为 <code>&quot;root&quot;&lt;root@localhost&gt;</code> 的 commit ，于是寻找到了一个修改的方法。</p>\n<p>在仓库根目录下新建一个名为 <code>fix.sh</code> 的 shell 脚本，输入以下内容：</p>\n<pre><code class=\"hljs bash\"><span class=\"hljs-meta\">#!/bin/bash</span>\n\ngit filter-branch --env-filter <span class=\"hljs-string\">&#x27;</span>\n<span class=\"hljs-string\">an=&quot;$GIT_AUTHOR_NAME&quot;</span>\n<span class=\"hljs-string\">am=&quot;$GIT_AUTHOR_EMAIL&quot;</span>\n<span class=\"hljs-string\">cn=&quot;$GIT_COMMITTER_NAME&quot;</span>\n<span class=\"hljs-string\">cm=&quot;$GIT_COMMITTER_EMAIL&quot;</span>\n<span class=\"hljs-string\"></span>\n<span class=\"hljs-string\">if [ &quot;$GIT_COMMITTER_EMAIL&quot; = &quot;错误邮箱&quot; ]</span>\n<span class=\"hljs-string\">then</span>\n<span class=\"hljs-string\">    cn=&quot;正确名称&quot;</span>\n<span class=\"hljs-string\">    cm=&quot;正确邮箱&quot;</span>\n<span class=\"hljs-string\">fi</span>\n<span class=\"hljs-string\">if [ &quot;$GIT_AUTHOR_EMAIL&quot; = &quot;错误邮箱&quot; ]</span>\n<span class=\"hljs-string\">then</span>\n<span class=\"hljs-string\">    an=&quot;正确名称&quot;</span>\n<span class=\"hljs-string\">    am=&quot;正确邮箱&quot;</span>\n<span class=\"hljs-string\">fi</span>\n<span class=\"hljs-string\"></span>\n<span class=\"hljs-string\">export GIT_AUTHOR_NAME=&quot;$an&quot;</span>\n<span class=\"hljs-string\">export GIT_AUTHOR_EMAIL=&quot;$am&quot;</span>\n<span class=\"hljs-string\">export GIT_COMMITTER_NAME=&quot;$cn&quot;</span>\n<span class=\"hljs-string\">export GIT_COMMITTER_EMAIL=&quot;$cm&quot;</span>\n<span class=\"hljs-string\">&#x27;</span></code></pre>\n<p>完成后运行 <code>./fix.sh</code> 即可。</p>\n<p>PS: 跑完记得删脚本，或者直接把脚本内容改好之后拖进终端</p>\n","thumb":null,"date":"2020-11-25","updated":"2020-11-25","isoDate":"2020-11-25T12:03:03.000Z","isoUpdate":"2020-11-25T12:03:03.000Z","categories":[{"name":"笔记本","url":"/categories/%E7%AC%94%E8%AE%B0%E6%9C%AC/"}],"tags":[{"name":"Git","url":"/tags/Git/"}],"license":null,"permalink":"https://blog.baoshuo.ren/post/change-git-submission-email/","prev":{"title":"洛谷爬虫","url":"/post/luogu-spider/"},"next":{"title":"USTC Hackergame 2020 Write Up","url":"/post/ustc-hackergame-2020-write-up/"},"toc":{},"hasToc":false,"comments":true},"__post":true},"__N_SSG":true}