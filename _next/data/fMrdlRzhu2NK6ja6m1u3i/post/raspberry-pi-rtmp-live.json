{"pageProps":{"title":"使用树莓派+Nginx搭建 Rtmp 直播服务 - 宝硕博客","post":{"title":"使用树莓派+Nginx搭建 Rtmp 直播服务","excerpt":"国庆在家闲着没啥事，把一直在角落里吃灰的树莓派 4B 拿出来捣鼓了几下。","content":[{"tag":"p","content":["国庆在家闲着没啥事，把一直在角落里吃灰的树莓派 4B 拿出来捣鼓了几下。"]},{"tag":"span","attrs":{"id":"more"},"content":[""]},{"tag":"p","content":["使用 nginx 模块：",{"tag":"a","attrs":{"href":"https://github.com/arut/nginx-rtmp-module","rel":"external nofollow noreferrer"},"content":[{"tag":"code","content":["nginx-rtmp-module"]}]}]},{"tag":"h2","attrs":{"id":"安装-nginx-nginx-rtmp-module"},"content":["安装 nginx &amp; nginx-rtmp-module"]},{"tag":"p","content":["apt, yes!"]},{"tag":"pre","content":[{"tag":"code","attrs":{"class":"hljs bash"},"content":["apt update\napt upgrade -y\napt install nginx libnginx-mod-rtmp -y"]}]},{"tag":"p","content":["访问服务器 IP ，出现如下图所示网页即代表安装成功。"]},{"tag":"p","content":[{"tag":"img","attrs":{"src":"https://s1.baoshuo.ren/2020/11/26/BdKOhDuxIaYks6q.png","alt":"","loading":"lazy"},"content":[""]}]},{"tag":"h2","attrs":{"id":"修改-nginx-配置"},"content":["修改 nginx 配置"]},{"tag":"p","content":["打开 ",{"tag":"code","content":["/etc/nginx/nginx.conf"]}," ，在末尾处插入下面的配置"]},{"tag":"pre","content":[{"tag":"code","attrs":{"class":"hljs nginx"},"content":[{"tag":"span","attrs":{"class":"hljs-section"},"content":["rtmp"]}," &#123;\n    ",{"tag":"span","attrs":{"class":"hljs-section"},"content":["server"]}," &#123;\n        ",{"tag":"span","attrs":{"class":"hljs-attribute"},"content":["listen"]},"     ",{"tag":"span","attrs":{"class":"hljs-number"},"content":["1935"]},";              ",{"tag":"span","attrs":{"class":"hljs-comment"},"content":["# 服务端口"]},"\n        ",{"tag":"span","attrs":{"class":"hljs-attribute"},"content":["chunk_size"]}," ",{"tag":"span","attrs":{"class":"hljs-number"},"content":["4096"]},";              ",{"tag":"span","attrs":{"class":"hljs-comment"},"content":["# 数据传输块的大小"]},"\n\n        ",{"tag":"span","attrs":{"class":"hljs-attribute"},"content":["application"]}," vod &#123;\n            ",{"tag":"span","attrs":{"class":"hljs-attribute"},"content":["play"]}," /opt/video;          ",{"tag":"span","attrs":{"class":"hljs-comment"},"content":["# 视频文件存放位置。"]},"\n        &#125;\n\n        ",{"tag":"span","attrs":{"class":"hljs-attribute"},"content":["application"]}," rtmplive &#123;\n            ",{"tag":"span","attrs":{"class":"hljs-attribute"},"content":["live"]},"            ",{"tag":"span","attrs":{"class":"hljs-literal"},"content":["on"]},";        ",{"tag":"span","attrs":{"class":"hljs-comment"},"content":["# 开启直播"]},"\n            ",{"tag":"span","attrs":{"class":"hljs-attribute"},"content":["max_connections"]}," ",{"tag":"span","attrs":{"class":"hljs-number"},"content":["64"]},";        ",{"tag":"span","attrs":{"class":"hljs-comment"},"content":["# 为 rtmp 引擎设置最大连接数。默认为 off"]},"\n        &#125;\n\n        ",{"tag":"span","attrs":{"class":"hljs-attribute"},"content":["application"]}," live &#123;\n            ",{"tag":"span","attrs":{"class":"hljs-attribute"},"content":["live"]},"                ",{"tag":"span","attrs":{"class":"hljs-literal"},"content":["on"]},";              ",{"tag":"span","attrs":{"class":"hljs-comment"},"content":["# 开启直播"]},"\n            ",{"tag":"span","attrs":{"class":"hljs-attribute"},"content":["hls"]},"                 ",{"tag":"span","attrs":{"class":"hljs-literal"},"content":["on"]},";              ",{"tag":"span","attrs":{"class":"hljs-comment"},"content":["# 这个参数把直播服务器改造成实时回放服务器。"]},"\n            ",{"tag":"span","attrs":{"class":"hljs-attribute"},"content":["wait_key"]},"            ",{"tag":"span","attrs":{"class":"hljs-literal"},"content":["on"]},";              ",{"tag":"span","attrs":{"class":"hljs-comment"},"content":["# 对视频切片进行保护，这样就不会产生马赛克了。"]},"\n            ",{"tag":"span","attrs":{"class":"hljs-attribute"},"content":["hls_path"]},"            /opt/video/hls;  ",{"tag":"span","attrs":{"class":"hljs-comment"},"content":["# 切片视频文件存放位置。"]},"\n            ",{"tag":"span","attrs":{"class":"hljs-attribute"},"content":["hls_fragment"]},"        ",{"tag":"span","attrs":{"class":"hljs-number"},"content":["10s"]},";             ",{"tag":"span","attrs":{"class":"hljs-comment"},"content":["# 设置HLS片段长度。"]},"\n            ",{"tag":"span","attrs":{"class":"hljs-attribute"},"content":["hls_max_fragment"]},"    ",{"tag":"span","attrs":{"class":"hljs-number"},"content":["10s"]},";             ",{"tag":"span","attrs":{"class":"hljs-comment"},"content":["# 设置HLS片段最大长度。"]},"\n            ",{"tag":"span","attrs":{"class":"hljs-attribute"},"content":["hls_playlist_length"]}," ",{"tag":"span","attrs":{"class":"hljs-number"},"content":["30s"]},";             ",{"tag":"span","attrs":{"class":"hljs-comment"},"content":["# 设置HLS播放列表长度。"]},"\n            ",{"tag":"span","attrs":{"class":"hljs-attribute"},"content":["hls_continuous"]},"      ",{"tag":"span","attrs":{"class":"hljs-literal"},"content":["on"]},";              ",{"tag":"span","attrs":{"class":"hljs-comment"},"content":["# 连续模式。"]},"\n            ",{"tag":"span","attrs":{"class":"hljs-attribute"},"content":["hls_cleanup"]},"         ",{"tag":"span","attrs":{"class":"hljs-literal"},"content":["on"]},";              ",{"tag":"span","attrs":{"class":"hljs-comment"},"content":["# 对多余的切片进行删除。"]},"\n            ",{"tag":"span","attrs":{"class":"hljs-attribute"},"content":["hls_nested"]},"          ",{"tag":"span","attrs":{"class":"hljs-literal"},"content":["on"]},";              ",{"tag":"span","attrs":{"class":"hljs-comment"},"content":["# 嵌套模式。"]},"\n        &#125;\n    &#125;\n&#125;"]}]},{"tag":"p","content":["打开默认站点配置文件 ",{"tag":"code","content":["/etc/nginx/sites-available/default"]}," ，在 ",{"tag":"code","content":["server"]}," 部分的末尾添加以下内容"]},{"tag":"pre","content":[{"tag":"code","attrs":{"class":"hljs nginx"},"content":[{"tag":"span","attrs":{"class":"hljs-section"},"content":["location"]}," /live &#123;\n    ",{"tag":"span","attrs":{"class":"hljs-section"},"content":["types"]}," &#123;\n        application/vnd.apple.",{"tag":"span","attrs":{"class":"hljs-attribute"},"content":["mpegurl"]}," m3u8;\n        video/",{"tag":"span","attrs":{"class":"hljs-attribute"},"content":["mp2t"]},"                    ts;\n    &#125;\n\n    ",{"tag":"span","attrs":{"class":"hljs-attribute"},"content":["autoindex"]}," ",{"tag":"span","attrs":{"class":"hljs-literal"},"content":["on"]},";\n    ",{"tag":"span","attrs":{"class":"hljs-attribute"},"content":["alias"]},"     /opt/video/hls;\n\n    ",{"tag":"span","attrs":{"class":"hljs-attribute"},"content":["expires"]}," -",{"tag":"span","attrs":{"class":"hljs-number"},"content":["1"]},";\n\n    ",{"tag":"span","attrs":{"class":"hljs-attribute"},"content":["add_header"]}," ",{"tag":"span","attrs":{"class":"hljs-string"},"content":["&#x27;Cache-Control&#x27;"]},"                    ",{"tag":"span","attrs":{"class":"hljs-string"},"content":["&#x27;no-cache&#x27;"]},";\n    ",{"tag":"span","attrs":{"class":"hljs-attribute"},"content":["add_header"]}," ",{"tag":"span","attrs":{"class":"hljs-string"},"content":["&#x27;Access-Control-Allow-Origin&#x27;"]},"      ",{"tag":"span","attrs":{"class":"hljs-string"},"content":["&#x27;*&#x27;"]},";\n    ",{"tag":"span","attrs":{"class":"hljs-attribute"},"content":["add_header"]}," ",{"tag":"span","attrs":{"class":"hljs-string"},"content":["&#x27;Access-Control-Allow-Credentials&#x27;"]}," ",{"tag":"span","attrs":{"class":"hljs-string"},"content":["&#x27;true&#x27;"]},";\n    ",{"tag":"span","attrs":{"class":"hljs-attribute"},"content":["add_header"]}," ",{"tag":"span","attrs":{"class":"hljs-string"},"content":["&#x27;Access-Control-Allow-Methods&#x27;"]},"     ",{"tag":"span","attrs":{"class":"hljs-string"},"content":["&#x27;GET, POST, OPTIONS&#x27;"]},";\n    ",{"tag":"span","attrs":{"class":"hljs-attribute"},"content":["add_header"]}," ",{"tag":"span","attrs":{"class":"hljs-string"},"content":["&#x27;Access-Control-Allow-Headers&#x27;"]},"     ",{"tag":"span","attrs":{"class":"hljs-string"},"content":["&#x27;DNT,X-CustomHeader,Keep-Alive,User-Agent,X-Requested-With,If-Modified-Since,Cache-Control,Content-Type&#x27;"]},";\n&#125;\n",{"tag":"span","attrs":{"class":"hljs-section"},"content":["location"]}," /stat &#123;\n    ",{"tag":"span","attrs":{"class":"hljs-attribute"},"content":["rtmp_stat"]}," all;\n    ",{"tag":"span","attrs":{"class":"hljs-comment"},"content":["# rtmp_stat_stylesheet stat.xsl;"]},"\n&#125;"]}]},{"tag":"p","content":["插入完以后配置文件会变成下面的样子"]},{"tag":"pre","content":[{"tag":"code","attrs":{"class":"hljs diff"},"content":[{"tag":"span","attrs":{"class":"hljs-comment"},"content":["--- /etc/nginx/sites-available/default"]},"\n",{"tag":"span","attrs":{"class":"hljs-comment"},"content":["+++ /etc/nginx/sites-available/default"]},"\n",{"tag":"span","attrs":{"class":"hljs-meta"},"content":["@@ -1,14 +1,36 @@"]},"\n server &#123;\n     listen 80 default_server;\n     listen [::]:80 default_server;\n\n     root /var/www/html;\n\n     index index.html index.htm index.nginx-debian.html;\n\n     server_name _;\n\n     location / &#123;\n         try_files $uri $uri/ =404;\n     &#125;\n",{"tag":"span","attrs":{"class":"hljs-addition"},"content":["+"]},"\n",{"tag":"span","attrs":{"class":"hljs-addition"},"content":["+    location /live &#123;"]},"\n",{"tag":"span","attrs":{"class":"hljs-addition"},"content":["+        types &#123;"]},"\n",{"tag":"span","attrs":{"class":"hljs-addition"},"content":["+            application/vnd.apple.mpegurl m3u8;"]},"\n",{"tag":"span","attrs":{"class":"hljs-addition"},"content":["+            video/mp2t                    ts;"]},"\n",{"tag":"span","attrs":{"class":"hljs-addition"},"content":["+        &#125;"]},"\n",{"tag":"span","attrs":{"class":"hljs-addition"},"content":["+"]},"\n",{"tag":"span","attrs":{"class":"hljs-addition"},"content":["+        autoindex on;"]},"\n",{"tag":"span","attrs":{"class":"hljs-addition"},"content":["+        alias     /opt/video/hls;"]},"\n",{"tag":"span","attrs":{"class":"hljs-addition"},"content":["+"]},"\n",{"tag":"span","attrs":{"class":"hljs-addition"},"content":["+        expires -1;"]},"\n",{"tag":"span","attrs":{"class":"hljs-addition"},"content":["+"]},"\n",{"tag":"span","attrs":{"class":"hljs-addition"},"content":["+        add_header &#x27;Cache-Control&#x27;                    &#x27;no-cache&#x27;;"]},"\n",{"tag":"span","attrs":{"class":"hljs-addition"},"content":["+        add_header &#x27;Access-Control-Allow-Origin&#x27;      &#x27;*&#x27;;"]},"\n",{"tag":"span","attrs":{"class":"hljs-addition"},"content":["+        add_header &#x27;Access-Control-Allow-Credentials&#x27; &#x27;true&#x27;;"]},"\n",{"tag":"span","attrs":{"class":"hljs-addition"},"content":["+        add_header &#x27;Access-Control-Allow-Methods&#x27;     &#x27;GET, POST, OPTIONS&#x27;;"]},"\n",{"tag":"span","attrs":{"class":"hljs-addition"},"content":["+        add_header &#x27;Access-Control-Allow-Headers&#x27;     &#x27;DNT,X-CustomHeader,Keep-Alive,User-Agent,X-Requested-With,If-Modified-Since,Cache-Control,Content-Type&#x27;;"]},"\n",{"tag":"span","attrs":{"class":"hljs-addition"},"content":["+    &#125;"]},"\n",{"tag":"span","attrs":{"class":"hljs-addition"},"content":["+    location /stat &#123;"]},"\n",{"tag":"span","attrs":{"class":"hljs-addition"},"content":["+        rtmp_stat all;"]},"\n",{"tag":"span","attrs":{"class":"hljs-addition"},"content":["+        # rtmp_stat_stylesheet stat.xsl;"]},"\n",{"tag":"span","attrs":{"class":"hljs-addition"},"content":["+    &#125;"]},"\n &#125;"]}]},{"tag":"p","content":["修改完成后使用 ",{"tag":"code","content":["nginx -t"]}," 测试配置文件是否正确"]},{"tag":"pre","content":[{"tag":"code","attrs":{"class":"hljs vim"},"content":["nginx: the configuration ",{"tag":"span","attrs":{"class":"hljs-keyword"},"content":["file"]}," /etc/nginx/nginx.",{"tag":"span","attrs":{"class":"hljs-keyword"},"content":["conf"]}," ",{"tag":"span","attrs":{"class":"hljs-keyword"},"content":["syntax"]}," ",{"tag":"span","attrs":{"class":"hljs-keyword"},"content":["is"]}," ok\nnginx: configuration ",{"tag":"span","attrs":{"class":"hljs-keyword"},"content":["file"]}," /etc/nginx/nginx.",{"tag":"span","attrs":{"class":"hljs-keyword"},"content":["conf"]}," test ",{"tag":"span","attrs":{"class":"hljs-keyword"},"content":["is"]}," successful"]}]},{"tag":"p","content":["当出现成功提示时，使用 ",{"tag":"code","content":["nginx -s reload"]}," 平滑重启 nginx。"]},{"tag":"p","content":["重启成功后使用 ",{"tag":"code","content":["netstat -lnp"]}," 查看 ",{"tag":"code","content":["tcp/1935"]}," 端口是否开启。"]},{"tag":"p","content":[{"tag":"img","attrs":{"src":"https://s1.baoshuo.ren/2020/11/26/Xy3Nq5WZaogLIvR.png","alt":"","loading":"lazy"},"content":[""]}]},{"tag":"h2","attrs":{"id":"使用-obs-连接直播服务器"},"content":["使用 OBS 连接直播服务器"]},{"tag":"p","content":["打开 OBS ，在 设置 -&gt; 推流 中配置以下内容"]},{"tag":"table","content":[{"tag":"thead","content":[{"tag":"tr","content":[{"tag":"th","content":["项目"]},{"tag":"th","content":["值"]}]}]},{"tag":"tbody","content":[{"tag":"tr","content":[{"tag":"td","content":["服务"]},{"tag":"td","content":[{"tag":"code","content":["自定义..."]}]}]},{"tag":"tr","content":[{"tag":"td","content":["服务器"]},{"tag":"td","content":[{"tag":"code","content":["rtmp://$&#123;ip&#125;/live"]}]}]},{"tag":"tr","content":[{"tag":"td","content":["串流密钥"]},{"tag":"td","content":[{"tag":"code","content":["$&#123;key&#125;"]}]}]}]}]},{"tag":"p","content":["其中，",{"tag":"code","content":["$&#123;ip&#125;"]}," 和 ",{"tag":"code","content":["$&#123;key&#125;"]}," 设置为你需要的值即可。"]},{"tag":"p","content":["回到主界面，点击 ",{"tag":"strong","content":["开始推流"]}," 进行推流。"]},{"tag":"h2","attrs":{"id":"使用客户端拉取直播流"},"content":["使用客户端拉取直播流"]},{"tag":"p","content":[{"tag":"img","attrs":{"src":"https://s1.baoshuo.ren/2020/11/26/jpqVTAgXSW6oyEP.png","alt":"","loading":"lazy"},"content":[""]}]},{"tag":"p","content":["在 ",{"tag":"code","content":["PotPlayer"]}," ",{"tag":"code","content":["QQ影音"]}," 等播放器中选择 ",{"tag":"code","content":["打开-&gt;打开URL"]}," 。"]},{"tag":"p","content":[{"tag":"img","attrs":{"src":"https://s1.baoshuo.ren/2020/11/26/rzBNukVTntf5xUR.png","alt":"","loading":"lazy"},"content":[""]}]},{"tag":"p","content":["输入 ",{"tag":"code","content":["http://$&#123;ip&#125;/live/$&#123;key&#125;/index.m3u8"]}," ，点击确定。"]},{"tag":"p","content":[{"tag":"img","attrs":{"src":"https://s1.baoshuo.ren/2020/11/26/crbEBQNC3qH8uOl.jpg","alt":"","loading":"lazy"},"content":[""]}]},{"tag":"p","content":["此时可以就看到直播画面了。"]},{"tag":"h2","attrs":{"id":"网页端播放"},"content":["网页端播放"]},{"tag":"p","content":["页面中只有一个播放器，其他功能请自行实现。"]},{"tag":"pre","content":[{"tag":"code","attrs":{"class":"hljs xml"},"content":[{"tag":"span","attrs":{"class":"hljs-tag"},"content":["&lt;",{"tag":"span","attrs":{"class":"hljs-name"},"content":["html"]},"&gt;"]},"\n\n",{"tag":"span","attrs":{"class":"hljs-tag"},"content":["&lt;",{"tag":"span","attrs":{"class":"hljs-name"},"content":["head"]},"&gt;"]},"\n    ",{"tag":"span","attrs":{"class":"hljs-tag"},"content":["&lt;",{"tag":"span","attrs":{"class":"hljs-name"},"content":["title"]},"&gt;"]},"Live Player",{"tag":"span","attrs":{"class":"hljs-tag"},"content":["&lt;/",{"tag":"span","attrs":{"class":"hljs-name"},"content":["title"]},"&gt;"]},"\n    ",{"tag":"span","attrs":{"class":"hljs-tag"},"content":["&lt;",{"tag":"span","attrs":{"class":"hljs-name"},"content":["meta"]}," ",{"tag":"span","attrs":{"class":"hljs-attr"},"content":["charset"]},"=",{"tag":"span","attrs":{"class":"hljs-string"},"content":["&quot;UTF-8&quot;"]},"&gt;"]},"\n",{"tag":"span","attrs":{"class":"hljs-tag"},"content":["&lt;/",{"tag":"span","attrs":{"class":"hljs-name"},"content":["head"]},"&gt;"]},"\n\n",{"tag":"span","attrs":{"class":"hljs-tag"},"content":["&lt;",{"tag":"span","attrs":{"class":"hljs-name"},"content":["body"]},"&gt;"]},"\n    ",{"tag":"span","attrs":{"class":"hljs-tag"},"content":["&lt;",{"tag":"span","attrs":{"class":"hljs-name"},"content":["div"]}," ",{"tag":"span","attrs":{"class":"hljs-attr"},"content":["id"]},"=",{"tag":"span","attrs":{"class":"hljs-string"},"content":["&quot;dplayer&quot;"]},"&gt;"]},{"tag":"span","attrs":{"class":"hljs-tag"},"content":["&lt;/",{"tag":"span","attrs":{"class":"hljs-name"},"content":["div"]},"&gt;"]},"\n    ",{"tag":"span","attrs":{"class":"hljs-tag"},"content":["&lt;",{"tag":"span","attrs":{"class":"hljs-name"},"content":["script"]}," ",{"tag":"span","attrs":{"class":"hljs-attr"},"content":["src"]},"=",{"tag":"span","attrs":{"class":"hljs-string"},"content":["&quot;https://cdn.jsdelivr.net/npm/hls.js@0.14.13/dist/hls.min.js&quot;"]},"&gt;"]},{"tag":"span","attrs":{"class":"hljs-tag"},"content":["&lt;/",{"tag":"span","attrs":{"class":"hljs-name"},"content":["script"]},"&gt;"]},"\n    ",{"tag":"span","attrs":{"class":"hljs-tag"},"content":["&lt;",{"tag":"span","attrs":{"class":"hljs-name"},"content":["script"]}," ",{"tag":"span","attrs":{"class":"hljs-attr"},"content":["src"]},"=",{"tag":"span","attrs":{"class":"hljs-string"},"content":["&quot;https://cdn.jsdelivr.net/npm/dplayer@1.26.0/dist/DPlayer.min.js&quot;"]},"&gt;"]},{"tag":"span","attrs":{"class":"hljs-tag"},"content":["&lt;/",{"tag":"span","attrs":{"class":"hljs-name"},"content":["script"]},"&gt;"]},"\n    ",{"tag":"span","attrs":{"class":"hljs-tag"},"content":["&lt;",{"tag":"span","attrs":{"class":"hljs-name"},"content":["script"]},"&gt;"]},{"tag":"span","attrs":{"class":"language-javascript"},"content":[""]},"\n",{"tag":"span","attrs":{"class":"language-javascript"},"content":["        ",{"tag":"span","attrs":{"class":"hljs-keyword"},"content":["const"]}," dp = ",{"tag":"span","attrs":{"class":"hljs-keyword"},"content":["new"]}," ",{"tag":"span","attrs":{"class":"hljs-title class_"},"content":["DPlayer"]},"(&#123;"]},"\n",{"tag":"span","attrs":{"class":"language-javascript"},"content":["            ",{"tag":"span","attrs":{"class":"hljs-attr"},"content":["container"]},": ",{"tag":"span","attrs":{"class":"hljs-variable language_"},"content":["document"]},".",{"tag":"span","attrs":{"class":"hljs-title function_"},"content":["getElementById"]},"(",{"tag":"span","attrs":{"class":"hljs-string"},"content":["&#x27;dplayer&#x27;"]},"),"]},"\n",{"tag":"span","attrs":{"class":"language-javascript"},"content":["            ",{"tag":"span","attrs":{"class":"hljs-attr"},"content":["live"]},": ",{"tag":"span","attrs":{"class":"hljs-literal"},"content":["true"]},","]},"\n",{"tag":"span","attrs":{"class":"language-javascript"},"content":["            ",{"tag":"span","attrs":{"class":"hljs-attr"},"content":["video"]},": &#123;"]},"\n",{"tag":"span","attrs":{"class":"language-javascript"},"content":["                ",{"tag":"span","attrs":{"class":"hljs-attr"},"content":["url"]},": ",{"tag":"span","attrs":{"class":"hljs-string"},"content":["&#x27;http://$&#123;ip&#125;/live/$&#123;key&#125;/index.m3u8&#x27;"]},","]},"\n",{"tag":"span","attrs":{"class":"language-javascript"},"content":["                ",{"tag":"span","attrs":{"class":"hljs-attr"},"content":["type"]},": ",{"tag":"span","attrs":{"class":"hljs-string"},"content":["&#x27;hls&#x27;"]},","]},"\n",{"tag":"span","attrs":{"class":"language-javascript"},"content":["            &#125;,"]},"\n",{"tag":"span","attrs":{"class":"language-javascript"},"content":["        &#125;);"]},"\n",{"tag":"span","attrs":{"class":"language-javascript"},"content":["    "]},{"tag":"span","attrs":{"class":"hljs-tag"},"content":["&lt;/",{"tag":"span","attrs":{"class":"hljs-name"},"content":["script"]},"&gt;"]},"\n",{"tag":"span","attrs":{"class":"hljs-tag"},"content":["&lt;/",{"tag":"span","attrs":{"class":"hljs-name"},"content":["body"]},"&gt;"]},"\n\n",{"tag":"span","attrs":{"class":"hljs-tag"},"content":["&lt;/",{"tag":"span","attrs":{"class":"hljs-name"},"content":["html"]},"&gt;"]}]}]},{"tag":"p","content":[{"tag":"img","attrs":{"src":"https://s1.baoshuo.ren/2020/11/26/9X6mUtF4fLzdaYn.jpg","alt":"","loading":"lazy"},"content":[""]}]},{"tag":"h2","attrs":{"id":"后记-5"},"content":["后记"]},{"tag":"p","content":["如果没有在外直播的需求，不要将 rtmp 端口映射至公网，这可能会带来一些不必要的麻烦。"]},{"tag":"h2","attrs":{"id":"参考资料-10"},"content":["参考资料"]},{"tag":"ol","content":[{"tag":"li","content":[{"tag":"a","attrs":{"href":"https://github.com/arut/nginx-rtmp-module","rel":"external nofollow noreferrer"},"content":["NGINX-based Media Streaming Server"]}]}]}],"thumb":null,"date":"2020-10-05","updated":"2020-10-05","isoDate":"2020-10-05T13:35:32.000Z","isoUpdate":"2020-10-05T13:35:32.000Z","categories":[{"name":"技术向","url":"/categories/%E6%8A%80%E6%9C%AF%E5%90%91/"}],"tags":[{"name":"折腾","url":"/tags/%E6%8A%98%E8%85%BE/"}],"license":null,"permalink":"https://blog.baoshuo.ren/post/raspberry-pi-rtmp-live/","url":"/post/raspberry-pi-rtmp-live/","prev":{"title":"Bilibili 1024 节 CTF Write Up","url":"/post/bilibili-1024-ctf-write-up/"},"next":{"title":"给腾讯云服务器免费增加第二个 IP","url":"/post/tencent-cloud-cvm-dual-ip/"},"toc":{"1":{"text":"安装 nginx &amp; nginx-rtmp-module","id":"安装-nginx-nginx-rtmp-module"},"2":{"text":"修改 nginx 配置","id":"修改-nginx-配置"},"3":{"text":"使用 OBS 连接直播服务器","id":"使用-obs-连接直播服务器"},"4":{"text":"使用客户端拉取直播流","id":"使用客户端拉取直播流"},"5":{"text":"网页端播放","id":"网页端播放"},"6":{"text":"后记","id":"后记-5"},"7":{"text":"参考资料","id":"参考资料-10"}},"hasToc":true,"comments":true,"wordCount":"992 字"},"__post":true},"__N_SSG":true}